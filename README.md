# grpc-connect-envoy

## 概要

connectとenvoyを使ったMicroService実装

## 構成図

```
                                     Docker Network
┌──────────────────────────────────────────────────────────────────────────────────────────┐
│                                                                                          │
│  ┌─────────┐      ┌──────────────┐      ┌─────────────┐      ┌─────────┐                 │
│  │ client  │      │ client-envoy │      │ envoy-auth  ├─────►│  auth   │                 │
│  │   app   ├─────►│   (8080)     ├─────►│   sidecar   │      │ service │                 │
│  └─────────┘      └──────┬───────┘      └─────────────┘      └────┬────┘                 │
│                          │                                        │(JWT)                 │
│                          │                                        │                      │
│                          │ (JWT Auth)                             ▼                      │
│                          │                ┌─────────────┐      ┌─────────┐               │
│                          ├───────────────►│ envoy-greet ├─────►│  greet  │               │
│                          │                │   sidecar   │      │ service │               │
│                          │                └─────────────┘      └─────────┘               │
│                          │                                                               │
│                          │                ┌─────────────┐      ┌─────────┐               │
│                          └───────────────►│ envoy-thanks├─────►│  thanks │               │
│                                           │   sidecar   │      │ service │               │
│                                           └─────────────┘      └─────────┘               │
│                                                                                          │
└──────────────────────────────────────────────────────────────────────────────────────────┘
```

## 参考URL

https://connectrpc.com/docs/introduction  
https://www.envoyproxy.io/
